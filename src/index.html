<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>coding test</title>

        <link rel="stylesheet" href="/lib/bootstrap/dist/css/bootstrap.css" charset="utf-8">
        <link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.css" charset="utf-8">

        <link rel="stylesheet" href="/css/basic.css" media="screen" title="no title" charset="utf-8">

        <script src="lib/jquery/dist/jquery.js" charset="utf-8"></script>
        <script src="lib/bootstrap/dist/js/bootstrap.js" charset="utf-8"></script>

        <script src="lib/underscore/underscore.js" charset="utf-8"></script>
        <script src="lib/backbone/backbone.js" charset="utf-8"></script>

        <script src="lib/handlebars/handlebars.js" charset="utf-8"></script>
        <script>
          window.onload = (function(){
            $.ajax({url: "http://localhost:8080/books", success: function(result){
              var drawLi = function(ele){return '</li>'+ele+'</li>';};
              var drawImage = function(ele){return '<img src='+ele+'>';};

              for (var i in result){
                var bList = $("ul[class*='books']");
                var htmlCode ="";
                    htmlCode += '<li><div class="row book"><div class="col-md-3 text-center">';
                    htmlCode +=  '<a href="'+result[i].link+'">';
                    htmlCode +=       drawImage(result[i].image);
                    htmlCode +=    ' </a>'
                    htmlCode += '</div>'
                    htmlCode += '<div class="col-md-9 info">'
                    htmlCode +=     '<ul>'
                    htmlCode +=         drawLi(result[i].title);
                    htmlCode +=         drawLi('<li>'+result[i].author+"|"+result[i].publisher+"|"+result[i].pubdate+'</li>');
                    htmlCode +=         drawLi('<li>'+result[i].price+' → '+result[i].price+'</li>');
                    htmlCode +=         drawLi('<li>'+result[i].description+'</li>');
                    htmlCode +=     '</ul>'
                    htmlCode += '</div></div></li>';
                    bList.append(htmlCode);
              }
            }});

          })
        </script>
    </head>
    <body>
      <div id='div1'></div>
        <div class="container">

            <!--  샘플 -->
            <ul class="books"></ul>
        </div>
    </body>
    <script src="./js/App.js" charset="utf-8"></script>
</html>
